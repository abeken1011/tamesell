<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>事前登録 - タメセル | 新規事業アイデア検証プラットフォーム</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                500: "#2563eb",
                600: "#1d4ed8",
                700: "#1e40af",
              },
              accent: {
                500: "#f59e0b",
                600: "#d97706",
              },
            },
          },
        },
      };
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <script src="header.js"></script>
    <script src="footer.js"></script>
  </head>
  <body class="bg-gray-50 text-gray-900">
    <!-- ヘッダーコンポーネントの設定 -->
    <div data-header='{"showBackButton": true, "backButtonText": "トップページに戻る", "backButtonUrl": "index.html"}'></div>

    <!-- Main Content -->
    <main class="py-12">
      <div class="max-w-2xl mx-auto px-4">
        <!-- Page Header -->
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">事前登録</h2>
        </div>

        <!-- Success Message (initially hidden) -->
        <div id="success-message" class="bg-white rounded-2xl shadow-lg p-8 text-center hidden">
          <div class="mb-6">
            <div class="mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-4">
              <i class="fas fa-check-circle text-green-600 text-3xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-900 mb-2">事前登録完了！</h2>
            <p class="text-lg text-gray-600">ご登録いただき、ありがとうございます。</p>
          </div>

          <div class="bg-blue-50 rounded-lg p-6 mb-6">
            <h3 class="text-lg font-semibold text-blue-900 mb-3">今後の流れ</h3>
            <div class="space-y-3 text-left">
              <div class="flex items-start space-x-3">
                <div class="flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">1</div>
                <div>
                  <p class="font-medium text-blue-900">確認メールの送信</p>
                  <p class="text-sm text-blue-700">ご登録いただいたメールアドレスに確認メールをお送りします。</p>
                </div>
              </div>
              <div class="flex items-start space-x-3">
                <div class="flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">2</div>
                <div>
                  <p class="font-medium text-blue-900">サービス開発の進捗報告</p>
                  <p class="text-sm text-blue-700">開発の進捗や新機能について定期的にお知らせします。</p>
                </div>
              </div>
              <div class="flex items-start space-x-3">
                <div class="flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">3</div>
                <div>
                  <p class="font-medium text-blue-900">サービス開始のご案内</p>
                  <p class="text-sm text-blue-700">サービス開始時に優先的にご案内し、特別価格でご提供いたします。</p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-yellow-50 rounded-lg p-4 mb-6">
            <h4 class="font-medium text-yellow-900 mb-2">
              <i class="fas fa-star mr-1"></i>
              事前登録者限定特典
            </h4>
            <ul class="text-sm text-yellow-800 space-y-1">
              <li>• サービス開始時の優先案内</li>
              <li>• 初回利用料金の特別割引</li>
              <li>• ベータ版の先行利用権</li>
              <li>• 個別サポートの優先対応</li>
            </ul>
          </div>

          <div class="space-x-4">
            <button
              onclick="resetForm()"
              class="inline-flex items-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors"
            >
              <i class="fas fa-plus mr-2"></i>
              別のアイデアを登録
            </button>
            <a
              href="index.html"
              class="inline-flex items-center px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors"
            >
              <i class="fas fa-home mr-2"></i>
              トップページに戻る
            </a>
          </div>
        </div>

        <!-- Contact Form -->
        <div id="form-container" class="bg-white rounded-2xl shadow-lg p-8">
          <form class="space-y-6" name="pre-registration" method="POST" data-netlify="true" data-netlify-recaptcha="true" id="registration-form">
            <!-- 会社名 (オプション) -->
            <div>
              <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
                会社名 <span class="text-gray-400 text-xs">(任意)</span>
              </label>
              <input
                type="text"
                id="company"
                name="company"
                placeholder="株式会社○○○"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              />
            </div>

            <!-- 名前 (必須) -->
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 mb-2"> お名前 <span class="text-red-500">*</span> </label>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="山田 太郎"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              />
            </div>

            <!-- メールアドレス (必須) -->
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2"> メールアドレス <span class="text-red-500">*</span> </label>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="example@company.com"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              />
              <p class="text-xs text-gray-500 mt-1">サービス開始のご案内をお送りします</p>
            </div>

            <!-- 電話番号 (オプション) -->
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                電話番号 <span class="text-gray-400 text-xs">(任意)</span>
              </label>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="03-1234-5678"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              />
            </div>

            <!-- アイデア (必須) -->
            <div>
              <label for="idea" class="block text-sm font-medium text-gray-700 mb-2">
                検証したいビジネスアイデア <span class="text-red-500">*</span>
              </label>
              <textarea
                id="idea"
                name="idea"
                rows="5"
                placeholder="検証したいビジネスアイデアについて詳しく教えてください。&#10;&#10;例：&#10;・どのような課題を解決するサービスか&#10;・ターゲットとなる顧客層&#10;・想定している収益モデル&#10;・現在の検討状況など"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors resize-vertical"
              ></textarea>
              <p class="text-xs text-gray-500 mt-1">詳しく記載いただくと、サービス開始時により具体的なご提案が可能です</p>
            </div>

            <!-- プライバシーポリシー同意 -->
            <div class="flex items-start space-x-3">
              <input
                type="checkbox"
                id="privacy"
                name="privacy"
                required
                class="mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
              />
              <label for="privacy" class="text-sm text-gray-600">
                <a href="privacy-policy.html" class="text-primary-600 hover:text-primary-700 underline">プライバシーポリシー</a>に同意します
                <span class="text-red-500">*</span>
              </label>
            </div>

            <!-- reCAPTCHA -->
            <div data-netlify-recaptcha="true"></div>

            <!-- 送信ボタン -->
            <div class="pt-4">
              <button
                type="submit"
                class="w-full bg-accent-500 hover:bg-accent-600 text-white py-4 rounded-lg text-lg font-bold transition-colors shadow-lg hover:shadow-xl"
              >
                <i class="fas fa-user-plus mr-2"></i>
                事前登録を完了する
              </button>
            </div>
          </form>

          <!-- 注意事項 -->
          <div class="mt-6 p-4 bg-blue-50 rounded-lg">
            <h4 class="text-sm font-medium text-blue-900 mb-2">
              <i class="fas fa-info-circle mr-1"></i>
              事前登録について
            </h4>
            <ul class="text-xs text-blue-800 space-y-1">
              <li>• 事前登録は無料です</li>
              <li>• サービス開始まで費用は一切発生しません</li>
              <li>• サービス開始時に優先的にご案内いたします</li>
              <li>• 事前登録者限定の特別価格でご提供予定です</li>
            </ul>
          </div>
        </div>
      </div>
    </main>

    <!-- フッターコンポーネント -->
    <div data-footer="{}"></div>

    <!-- JavaScript for form validation and handling -->
    <script>
      document.getElementById("registration-form").addEventListener("submit", function (e) {
        e.preventDefault();

        // 簡単なバリデーション
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const idea = document.getElementById("idea").value.trim();
        const privacy = document.getElementById("privacy").checked;

        if (!name || !email || !idea || !privacy) {
          alert("必須項目をすべて入力してください。");
          return;
        }

        // フォームデータを準備
        const formData = new FormData(this);

        // 送信ボタンを無効化
        const submitButton = this.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;
        submitButton.disabled = true;
        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>送信中...';

        // Netlify Formsに送信
        fetch("/", {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: new URLSearchParams(formData).toString(),
        })
          .then(() => {
            // 成功時の処理
            showSuccessMessage();
          })
          .catch((error) => {
            // エラー時の処理
            console.error("Error:", error);
            alert("送信中にエラーが発生しました。もう一度お試しください。");
            submitButton.disabled = false;
            submitButton.innerHTML = originalText;
          });
      });

      function showSuccessMessage() {
        // フォームを非表示にし、成功メッセージを表示
        document.getElementById("form-container").style.display = "none";
        document.getElementById("success-message").classList.remove("hidden");

        // ページトップにスクロール
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function resetForm() {
        // 成功メッセージを非表示にし、フォームを表示
        document.getElementById("success-message").classList.add("hidden");
        document.getElementById("form-container").style.display = "block";

        // フォームをリセット
        document.getElementById("registration-form").reset();

        // 送信ボタンを有効化
        const submitButton = document.querySelector('button[type="submit"]');
        submitButton.disabled = false;
        submitButton.innerHTML = '<i class="fas fa-user-plus mr-2"></i>事前登録を完了する';

        // ページトップにスクロール
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
    </script>
  </body>
</html>
